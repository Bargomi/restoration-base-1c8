#summary Идеология и планы развития конфигурации востановления.

пока пишу для себя, кто откорректирует - тому плюс :)

= Идеология =

Читаем весь файл, при чтении файла делим его на блоки, пытаемся пере создать внутреннюю структуру базы, структуру записываем в регистр (делается это для сохранности промежуточных результатов). Строим список таблиц и пул свободных блоков, строим дерево.

После построения дерева любые изменения пишем в регистр.
Анализ структуры файла
  * Поиск кривых/множественных/NULL ссылок на блоки файла, предоставление ручной и автоматической коррекции
  * Парсинг потоковых данных
  * Парсинг соответствия данных их структуре (соответствие длинн полей и т.д.)

После сеанса генерим новый файл 1cd

Используем регистр а не файлы по причинам
  * Возможно придем к тонкому (и хранением данных на сервере)
  * Более удобно версинизировать данные
  * Из минусов - большой размер базы

DLL используем для чтения и записи (поблочно) файла 1cd

= Структура =

Общие модули для каждой версии формата 1с свой
Обработка открытия и анализа
Обработка "hex редактор"
Регистр сведений для хранения блоков файла 1с
Общий макет для DLL

= Планы развития =

много

